create table bookings (minute integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, card_type varchar(20) not null check ((card_type in ('YELLOW','RED'))), primary key (id));
create table coaches (contract_start date, contract_until date, external_id bigint not null unique, id bigint generated by default as identity, name varchar(150) not null, nationality varchar(255), primary key (id));
create table goals (injury_time integer, minute integer, assistant_id bigint, id bigint generated by default as identity, match_id bigint not null, scorer_id bigint not null, team_id bigint not null, type varchar(20) not null check ((type in ('REGULAR','PENALTY','OWN_GOAL','FREE_KICK'))), primary key (id));
create table match_appearances (is_starting boolean not null, shirt_number integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, position varchar(255) not null, primary key (id));
create table match_referees (id bigint generated by default as identity, match_id bigint not null, referee_id bigint not null, role varchar(255) not null check ((role in ('REFEREE','ASSISTANT_REFEREE_N1','ASSISTANT_REFEREE_N2','FOURTH_OFFICIAL','VIDEO_ASSISTANT_REFEREE_N1','VIDEO_ASSISTANT_REFEREE_N2'))), primary key (id));
create table match_statistics (ball_possession integer, corner_kicks integer, fouls integer, goal_kicks integer, offsides integer, red_cards integer, saves integer, shots integer, shots_off_goal integer, shots_on_goal integer, throw_ins integer, total_bookings integer, yellow_cards integer, id bigint generated by default as identity, match_id bigint not null, team_id bigint not null, primary key (id));
create table matches (away_score integer, away_score_halftime integer, away_win_odds float(53), draw_odds float(53), home_score integer, home_score_halftime integer, home_win_odds float(53), injury_time integer, matchday integer not null, attendance bigint, away_team_id bigint not null, external_id bigint not null unique, home_team_id bigint not null, id bigint generated by default as identity, season_id bigint not null, utc_date timestamp(6) not null, stadium varchar(255), status varchar(255) not null check ((status in ('SCHEDULED','LIVE','IN_PLAY','PAUSED','FINISHED','POSTPONED','SUSPENDED','CANCELLED'))), winner varchar(255) check ((winner in ('HOME_TEAM','AWAY_TEAM','DRAW'))), primary key (id));
create table player_team_seasons (id bigint generated by default as identity, player_id bigint not null, season_id bigint not null, team_id bigint not null, primary key (id), constraint uk_player_team_season unique (player_id, team_id, season_id));
create table players (birth_date date, contract_start date, contract_until date, shirt_number integer, created_at timestamp(6) not null, current_team_id bigint, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), first_name varchar(255), last_name varchar(255), name varchar(255) not null, nationality varchar(255), primary key (id));
create table referees (external_id bigint not null unique, id bigint generated by default as identity, name varchar(255) not null, nationality varchar(255), primary key (id));
create table seasons (end_date date, is_current boolean, start_date date, external_id bigint, id bigint generated by default as identity, winner_team_id bigint, name varchar(255) not null unique, primary key (id));
create table standings (draw integer not null, games_played integer not null, goal_difference integer not null, goals_against integer not null, goals_for integer not null, lost integer not null, points integer not null, position integer not null, won integer not null, id bigint generated by default as identity, season_id bigint not null, team_id bigint not null, form varchar(20), primary key (id), constraint uk_team_season_standing unique (team_id, season_id));
create table substitutions (injury_time integer, minute integer, id bigint generated by default as identity, match_id bigint not null, player_in bigint not null, player_out bigint not null, team_id bigint not null, primary key (id));
create table team_coach_history (joined_at date not null, left_at date, coach_id bigint not null, id bigint generated by default as identity, team_id bigint not null, primary key (id));
create table teams (tla varchar(3) unique, year_founded integer, created_at timestamp(6) not null, current_coach_id bigint unique, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), name varchar(100) not null unique, club_colors varchar(255), crest_url varchar(255), short_name varchar(255), stadium varchar(255), primary key (id));
create table user_favorite_players (favorited_at timestamp(6) not null, id bigint generated by default as identity, player_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_player_favorite unique (user_id, player_id));
create table user_favorite_teams (favorited_at timestamp(6) not null, id bigint generated by default as identity, team_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_team_favorite unique (user_id, team_id));
create table users (created_at timestamp(6) not null, id bigint generated by default as identity, avatar_url varchar(255), email varchar(255) not null unique, first_name varchar(255), google_id varchar(255) unique, last_name varchar(255), primary key (id));
alter table if exists bookings add constraint FKqv1ebxjw8h1m4324kpip0j4gy foreign key (match_id) references matches;
alter table if exists bookings add constraint FK7q0g8hb02j183kbtxpk06g3vc foreign key (player_id) references players;
alter table if exists bookings add constraint FKnebs1eo3x1xm0g4riq99tb6vy foreign key (team_id) references teams;
alter table if exists goals add constraint FK87ccohm8tpga7ocit86xisk4g foreign key (assistant_id) references players;
alter table if exists goals add constraint FK8ccx0cu1ny1aj69vjn4cruo3l foreign key (match_id) references matches;
alter table if exists goals add constraint FKqu5hegukm0ee87uiuwpccqomh foreign key (scorer_id) references players;
alter table if exists goals add constraint FKf9r1d2qvljqd65eblm1tt66tx foreign key (team_id) references teams;
alter table if exists match_appearances add constraint FKrday7arsft5kcvxqdvv2a45a9 foreign key (match_id) references matches;
alter table if exists match_appearances add constraint FKc3wvj3rx5o9uunv6gy7u6lkeu foreign key (player_id) references players;
alter table if exists match_appearances add constraint FKapr6wf47qvioc32gt8f50w1ka foreign key (team_id) references teams;
alter table if exists match_referees add constraint FK6x1q62xk7uojb6gk6ful37urw foreign key (match_id) references matches;
alter table if exists match_referees add constraint FK3kg8fo3y1watqeu5mkcp3hhqi foreign key (referee_id) references referees;
alter table if exists match_statistics add constraint FKldtmogh5ymoeohy52kprf99xa foreign key (match_id) references matches;
alter table if exists match_statistics add constraint FKna2g1r8e7ig65ab6unagba96b foreign key (team_id) references teams;
alter table if exists matches add constraint FK2e8erbfecb0tjtq9iudg36bxu foreign key (away_team_id) references teams;
alter table if exists matches add constraint FK8k68nekawp47js52dq8720voe foreign key (home_team_id) references teams;
alter table if exists matches add constraint FK3ehtbdjnpjhowp2023c45kh8r foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FKbd7n5rdu55wh6tc7tmk6yh00h foreign key (player_id) references players;
alter table if exists player_team_seasons add constraint FKbe9n3t8wm3vcbm6mwdyixmapo foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FK4i6on0jjre9v6kf9fsjcs4nr2 foreign key (team_id) references teams;
alter table if exists players add constraint FKo4obt997nh7si97q796v2or8s foreign key (current_team_id) references teams;
alter table if exists seasons add constraint FKoldmjpq55s0mbwjun5bskgg41 foreign key (winner_team_id) references teams;
alter table if exists standings add constraint FKggre5nd5e903a9k29nicg19gp foreign key (season_id) references seasons;
alter table if exists standings add constraint FK6ak9f4ieqoq2bam5sjt9us7e foreign key (team_id) references teams;
alter table if exists substitutions add constraint FKpek5c5tmhwhfur6q3v6d46ndj foreign key (match_id) references matches;
alter table if exists substitutions add constraint FKdctqli9xu3cuty3qvb21u0vio foreign key (player_in) references players;
alter table if exists substitutions add constraint FKctegf86kfi9xbhex5gobd7y8l foreign key (player_out) references players;
alter table if exists substitutions add constraint FKprtr2aom8a4tjuec5qmr68ln4 foreign key (team_id) references teams;
alter table if exists team_coach_history add constraint FKt3333ox51j7m867hesfvioj7h foreign key (coach_id) references coaches;
alter table if exists team_coach_history add constraint FK94r2wkg6shihf99rlb6kivkyy foreign key (team_id) references teams;
alter table if exists teams add constraint FK8tcgsdju827qajnp5i13puqvt foreign key (current_coach_id) references coaches;
alter table if exists user_favorite_players add constraint FK4eic0cetl2jb72agrjn5nx1k4 foreign key (player_id) references players;
alter table if exists user_favorite_players add constraint FKlswq18ank0kea8u0ee7ibc5fr foreign key (user_id) references users;
alter table if exists user_favorite_teams add constraint FK6xm8srxaki475mkmc1xf5x0rs foreign key (team_id) references teams;
alter table if exists user_favorite_teams add constraint FKjoo8tyvsovr6ttg4ulr7gbx94 foreign key (user_id) references users;
create table bookings (minute integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, card_type varchar(20) not null check ((card_type in ('YELLOW','RED'))), primary key (id));
create table coaches (contract_start date, contract_until date, external_id bigint not null unique, id bigint generated by default as identity, name varchar(150) not null, nationality varchar(255), primary key (id));
create table goals (injury_time integer, minute integer, assistant_id bigint, id bigint generated by default as identity, match_id bigint not null, scorer_id bigint not null, team_id bigint not null, type varchar(20) not null check ((type in ('REGULAR','PENALTY','OWN_GOAL','FREE_KICK'))), primary key (id));
create table match_appearances (is_starting boolean not null, shirt_number integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, position varchar(255) not null, primary key (id));
create table match_referees (id bigint generated by default as identity, match_id bigint not null, referee_id bigint not null, role varchar(255) not null check ((role in ('REFEREE','ASSISTANT_REFEREE_N1','ASSISTANT_REFEREE_N2','FOURTH_OFFICIAL','VIDEO_ASSISTANT_REFEREE_N1','VIDEO_ASSISTANT_REFEREE_N2'))), primary key (id));
create table match_statistics (ball_possession integer, corner_kicks integer, fouls integer, goal_kicks integer, offsides integer, red_cards integer, saves integer, shots integer, shots_off_goal integer, shots_on_goal integer, throw_ins integer, total_bookings integer, yellow_cards integer, id bigint generated by default as identity, match_id bigint not null, team_id bigint not null, primary key (id));
create table matches (away_score integer, away_score_halftime integer, away_win_odds float(53), draw_odds float(53), home_score integer, home_score_halftime integer, home_win_odds float(53), injury_time integer, matchday integer not null, attendance bigint, away_team_id bigint not null, external_id bigint not null unique, home_team_id bigint not null, id bigint generated by default as identity, season_id bigint not null, utc_date timestamp(6) not null, stadium varchar(255), status varchar(255) not null check ((status in ('SCHEDULED','LIVE','IN_PLAY','PAUSED','FINISHED','POSTPONED','SUSPENDED','CANCELLED'))), winner varchar(255) check ((winner in ('HOME_TEAM','AWAY_TEAM','DRAW'))), primary key (id));
create table player_team_seasons (id bigint generated by default as identity, player_id bigint not null, season_id bigint not null, team_id bigint not null, primary key (id), constraint uk_player_team_season unique (player_id, team_id, season_id));
create table players (birth_date date, contract_start date, contract_until date, shirt_number integer, created_at timestamp(6) not null, current_team_id bigint, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), first_name varchar(255), last_name varchar(255), name varchar(255) not null, nationality varchar(255), primary key (id));
create table referees (external_id bigint not null unique, id bigint generated by default as identity, name varchar(255) not null, nationality varchar(255), primary key (id));
create table seasons (end_date date, is_current boolean, start_date date, external_id bigint, id bigint generated by default as identity, winner_team_id bigint, name varchar(255) not null unique, primary key (id));
create table standings (draw integer not null, games_played integer not null, goal_difference integer not null, goals_against integer not null, goals_for integer not null, lost integer not null, points integer not null, position integer not null, won integer not null, id bigint generated by default as identity, season_id bigint not null, team_id bigint not null, form varchar(20), primary key (id), constraint uk_team_season_standing unique (team_id, season_id));
create table substitutions (injury_time integer, minute integer, id bigint generated by default as identity, match_id bigint not null, player_in bigint not null, player_out bigint not null, team_id bigint not null, primary key (id));
create table team_coach_history (joined_at date not null, left_at date, coach_id bigint not null, id bigint generated by default as identity, team_id bigint not null, primary key (id));
create table teams (tla varchar(3) unique, year_founded integer, created_at timestamp(6) not null, current_coach_id bigint unique, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), name varchar(100) not null unique, club_colors varchar(255), crest_url varchar(255), short_name varchar(255), stadium varchar(255), primary key (id));
create table user_favorite_players (favorited_at timestamp(6) not null, id bigint generated by default as identity, player_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_player_favorite unique (user_id, player_id));
create table user_favorite_teams (favorited_at timestamp(6) not null, id bigint generated by default as identity, team_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_team_favorite unique (user_id, team_id));
create table users (created_at timestamp(6) not null, id bigint generated by default as identity, avatar_url varchar(255), email varchar(255) not null unique, first_name varchar(255), google_id varchar(255) unique, last_name varchar(255), primary key (id));
alter table if exists bookings add constraint FKqv1ebxjw8h1m4324kpip0j4gy foreign key (match_id) references matches;
alter table if exists bookings add constraint FK7q0g8hb02j183kbtxpk06g3vc foreign key (player_id) references players;
alter table if exists bookings add constraint FKnebs1eo3x1xm0g4riq99tb6vy foreign key (team_id) references teams;
alter table if exists goals add constraint FK87ccohm8tpga7ocit86xisk4g foreign key (assistant_id) references players;
alter table if exists goals add constraint FK8ccx0cu1ny1aj69vjn4cruo3l foreign key (match_id) references matches;
alter table if exists goals add constraint FKqu5hegukm0ee87uiuwpccqomh foreign key (scorer_id) references players;
alter table if exists goals add constraint FKf9r1d2qvljqd65eblm1tt66tx foreign key (team_id) references teams;
alter table if exists match_appearances add constraint FKrday7arsft5kcvxqdvv2a45a9 foreign key (match_id) references matches;
alter table if exists match_appearances add constraint FKc3wvj3rx5o9uunv6gy7u6lkeu foreign key (player_id) references players;
alter table if exists match_appearances add constraint FKapr6wf47qvioc32gt8f50w1ka foreign key (team_id) references teams;
alter table if exists match_referees add constraint FK6x1q62xk7uojb6gk6ful37urw foreign key (match_id) references matches;
alter table if exists match_referees add constraint FK3kg8fo3y1watqeu5mkcp3hhqi foreign key (referee_id) references referees;
alter table if exists match_statistics add constraint FKldtmogh5ymoeohy52kprf99xa foreign key (match_id) references matches;
alter table if exists match_statistics add constraint FKna2g1r8e7ig65ab6unagba96b foreign key (team_id) references teams;
alter table if exists matches add constraint FK2e8erbfecb0tjtq9iudg36bxu foreign key (away_team_id) references teams;
alter table if exists matches add constraint FK8k68nekawp47js52dq8720voe foreign key (home_team_id) references teams;
alter table if exists matches add constraint FK3ehtbdjnpjhowp2023c45kh8r foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FKbd7n5rdu55wh6tc7tmk6yh00h foreign key (player_id) references players;
alter table if exists player_team_seasons add constraint FKbe9n3t8wm3vcbm6mwdyixmapo foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FK4i6on0jjre9v6kf9fsjcs4nr2 foreign key (team_id) references teams;
alter table if exists players add constraint FKo4obt997nh7si97q796v2or8s foreign key (current_team_id) references teams;
alter table if exists seasons add constraint FKoldmjpq55s0mbwjun5bskgg41 foreign key (winner_team_id) references teams;
alter table if exists standings add constraint FKggre5nd5e903a9k29nicg19gp foreign key (season_id) references seasons;
alter table if exists standings add constraint FK6ak9f4ieqoq2bam5sjt9us7e foreign key (team_id) references teams;
alter table if exists substitutions add constraint FKpek5c5tmhwhfur6q3v6d46ndj foreign key (match_id) references matches;
alter table if exists substitutions add constraint FKdctqli9xu3cuty3qvb21u0vio foreign key (player_in) references players;
alter table if exists substitutions add constraint FKctegf86kfi9xbhex5gobd7y8l foreign key (player_out) references players;
alter table if exists substitutions add constraint FKprtr2aom8a4tjuec5qmr68ln4 foreign key (team_id) references teams;
alter table if exists team_coach_history add constraint FKt3333ox51j7m867hesfvioj7h foreign key (coach_id) references coaches;
alter table if exists team_coach_history add constraint FK94r2wkg6shihf99rlb6kivkyy foreign key (team_id) references teams;
alter table if exists teams add constraint FK8tcgsdju827qajnp5i13puqvt foreign key (current_coach_id) references coaches;
alter table if exists user_favorite_players add constraint FK4eic0cetl2jb72agrjn5nx1k4 foreign key (player_id) references players;
alter table if exists user_favorite_players add constraint FKlswq18ank0kea8u0ee7ibc5fr foreign key (user_id) references users;
alter table if exists user_favorite_teams add constraint FK6xm8srxaki475mkmc1xf5x0rs foreign key (team_id) references teams;
alter table if exists user_favorite_teams add constraint FKjoo8tyvsovr6ttg4ulr7gbx94 foreign key (user_id) references users;
create table bookings (minute integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, card_type varchar(20) not null check ((card_type in ('YELLOW','RED'))), primary key (id));
create table coaches (contract_start date, contract_until date, external_id bigint not null unique, id bigint generated by default as identity, name varchar(150) not null, nationality varchar(255), primary key (id));
create table goals (injury_time integer, minute integer, assistant_id bigint, id bigint generated by default as identity, match_id bigint not null, scorer_id bigint not null, team_id bigint not null, type varchar(20) not null check ((type in ('REGULAR','PENALTY','OWN_GOAL','FREE_KICK'))), primary key (id));
create table match_appearances (is_starting boolean not null, shirt_number integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, position varchar(255) not null, primary key (id));
create table match_referees (id bigint generated by default as identity, match_id bigint not null, referee_id bigint not null, role varchar(255) not null check ((role in ('REFEREE','ASSISTANT_REFEREE_N1','ASSISTANT_REFEREE_N2','FOURTH_OFFICIAL','VIDEO_ASSISTANT_REFEREE_N1','VIDEO_ASSISTANT_REFEREE_N2'))), primary key (id));
create table match_statistics (ball_possession integer, corner_kicks integer, fouls integer, goal_kicks integer, offsides integer, red_cards integer, saves integer, shots integer, shots_off_goal integer, shots_on_goal integer, throw_ins integer, total_bookings integer, yellow_cards integer, id bigint generated by default as identity, match_id bigint not null, team_id bigint not null, primary key (id));
create table matches (away_score integer, away_score_halftime integer, away_win_odds float(53), draw_odds float(53), home_score integer, home_score_halftime integer, home_win_odds float(53), injury_time integer, matchday integer not null, attendance bigint, away_team_id bigint not null, external_id bigint not null unique, home_team_id bigint not null, id bigint generated by default as identity, season_id bigint not null, utc_date timestamp(6) not null, stadium varchar(255), status varchar(255) not null check ((status in ('SCHEDULED','LIVE','IN_PLAY','PAUSED','FINISHED','POSTPONED','SUSPENDED','CANCELLED'))), winner varchar(255) check ((winner in ('HOME_TEAM','AWAY_TEAM','DRAW'))), primary key (id));
create table player_team_seasons (id bigint generated by default as identity, player_id bigint not null, season_id bigint not null, team_id bigint not null, primary key (id), constraint uk_player_team_season unique (player_id, team_id, season_id));
create table players (birth_date date, contract_start date, contract_until date, shirt_number integer, created_at timestamp(6) not null, current_team_id bigint, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), first_name varchar(255), last_name varchar(255), name varchar(255) not null, nationality varchar(255), primary key (id));
create table referees (external_id bigint not null unique, id bigint generated by default as identity, name varchar(255) not null, nationality varchar(255), primary key (id));
create table seasons (end_date date, is_current boolean, start_date date, external_id bigint, id bigint generated by default as identity, winner_team_id bigint, name varchar(255) not null unique, primary key (id));
create table standings (draw integer not null, games_played integer not null, goal_difference integer not null, goals_against integer not null, goals_for integer not null, lost integer not null, points integer not null, position integer not null, won integer not null, id bigint generated by default as identity, season_id bigint not null, team_id bigint not null, form varchar(20), primary key (id), constraint uk_team_season_standing unique (team_id, season_id));
create table substitutions (injury_time integer, minute integer, id bigint generated by default as identity, match_id bigint not null, player_in bigint not null, player_out bigint not null, team_id bigint not null, primary key (id));
create table team_coach_history (joined_at date not null, left_at date, coach_id bigint not null, id bigint generated by default as identity, team_id bigint not null, primary key (id));
create table teams (tla varchar(3) unique, year_founded integer, created_at timestamp(6) not null, current_coach_id bigint unique, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), name varchar(100) not null unique, club_colors varchar(255), crest_url varchar(255), short_name varchar(255), stadium varchar(255), primary key (id));
create table user_favorite_players (favorited_at timestamp(6) not null, id bigint generated by default as identity, player_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_player_favorite unique (user_id, player_id));
create table user_favorite_teams (favorited_at timestamp(6) not null, id bigint generated by default as identity, team_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_team_favorite unique (user_id, team_id));
create table users (created_at timestamp(6) not null, id bigint generated by default as identity, avatar_url varchar(255), email varchar(255) not null unique, first_name varchar(255), google_id varchar(255) unique, last_name varchar(255), primary key (id));
alter table if exists bookings add constraint FKqv1ebxjw8h1m4324kpip0j4gy foreign key (match_id) references matches;
alter table if exists bookings add constraint FK7q0g8hb02j183kbtxpk06g3vc foreign key (player_id) references players;
alter table if exists bookings add constraint FKnebs1eo3x1xm0g4riq99tb6vy foreign key (team_id) references teams;
alter table if exists goals add constraint FK87ccohm8tpga7ocit86xisk4g foreign key (assistant_id) references players;
alter table if exists goals add constraint FK8ccx0cu1ny1aj69vjn4cruo3l foreign key (match_id) references matches;
alter table if exists goals add constraint FKqu5hegukm0ee87uiuwpccqomh foreign key (scorer_id) references players;
alter table if exists goals add constraint FKf9r1d2qvljqd65eblm1tt66tx foreign key (team_id) references teams;
alter table if exists match_appearances add constraint FKrday7arsft5kcvxqdvv2a45a9 foreign key (match_id) references matches;
alter table if exists match_appearances add constraint FKc3wvj3rx5o9uunv6gy7u6lkeu foreign key (player_id) references players;
alter table if exists match_appearances add constraint FKapr6wf47qvioc32gt8f50w1ka foreign key (team_id) references teams;
alter table if exists match_referees add constraint FK6x1q62xk7uojb6gk6ful37urw foreign key (match_id) references matches;
alter table if exists match_referees add constraint FK3kg8fo3y1watqeu5mkcp3hhqi foreign key (referee_id) references referees;
alter table if exists match_statistics add constraint FKldtmogh5ymoeohy52kprf99xa foreign key (match_id) references matches;
alter table if exists match_statistics add constraint FKna2g1r8e7ig65ab6unagba96b foreign key (team_id) references teams;
alter table if exists matches add constraint FK2e8erbfecb0tjtq9iudg36bxu foreign key (away_team_id) references teams;
alter table if exists matches add constraint FK8k68nekawp47js52dq8720voe foreign key (home_team_id) references teams;
alter table if exists matches add constraint FK3ehtbdjnpjhowp2023c45kh8r foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FKbd7n5rdu55wh6tc7tmk6yh00h foreign key (player_id) references players;
alter table if exists player_team_seasons add constraint FKbe9n3t8wm3vcbm6mwdyixmapo foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FK4i6on0jjre9v6kf9fsjcs4nr2 foreign key (team_id) references teams;
alter table if exists players add constraint FKo4obt997nh7si97q796v2or8s foreign key (current_team_id) references teams;
alter table if exists seasons add constraint FKoldmjpq55s0mbwjun5bskgg41 foreign key (winner_team_id) references teams;
alter table if exists standings add constraint FKggre5nd5e903a9k29nicg19gp foreign key (season_id) references seasons;
alter table if exists standings add constraint FK6ak9f4ieqoq2bam5sjt9us7e foreign key (team_id) references teams;
alter table if exists substitutions add constraint FKpek5c5tmhwhfur6q3v6d46ndj foreign key (match_id) references matches;
alter table if exists substitutions add constraint FKdctqli9xu3cuty3qvb21u0vio foreign key (player_in) references players;
alter table if exists substitutions add constraint FKctegf86kfi9xbhex5gobd7y8l foreign key (player_out) references players;
alter table if exists substitutions add constraint FKprtr2aom8a4tjuec5qmr68ln4 foreign key (team_id) references teams;
alter table if exists team_coach_history add constraint FKt3333ox51j7m867hesfvioj7h foreign key (coach_id) references coaches;
alter table if exists team_coach_history add constraint FK94r2wkg6shihf99rlb6kivkyy foreign key (team_id) references teams;
alter table if exists teams add constraint FK8tcgsdju827qajnp5i13puqvt foreign key (current_coach_id) references coaches;
alter table if exists user_favorite_players add constraint FK4eic0cetl2jb72agrjn5nx1k4 foreign key (player_id) references players;
alter table if exists user_favorite_players add constraint FKlswq18ank0kea8u0ee7ibc5fr foreign key (user_id) references users;
alter table if exists user_favorite_teams add constraint FK6xm8srxaki475mkmc1xf5x0rs foreign key (team_id) references teams;
alter table if exists user_favorite_teams add constraint FKjoo8tyvsovr6ttg4ulr7gbx94 foreign key (user_id) references users;
create table bookings (minute integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, card_type varchar(20) not null check ((card_type in ('YELLOW','RED'))), primary key (id));
create table coaches (contract_start date, contract_until date, external_id bigint not null unique, id bigint generated by default as identity, name varchar(150) not null, nationality varchar(255), primary key (id));
create table goals (injury_time integer, minute integer, assistant_id bigint, id bigint generated by default as identity, match_id bigint not null, scorer_id bigint not null, team_id bigint not null, type varchar(20) not null check ((type in ('REGULAR','PENALTY','OWN_GOAL','FREE_KICK'))), primary key (id));
create table match_appearances (is_starting boolean not null, shirt_number integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, position varchar(255) not null, primary key (id));
create table match_referees (id bigint generated by default as identity, match_id bigint not null, referee_id bigint not null, role varchar(255) not null check ((role in ('REFEREE','ASSISTANT_REFEREE_N1','ASSISTANT_REFEREE_N2','FOURTH_OFFICIAL','VIDEO_ASSISTANT_REFEREE_N1','VIDEO_ASSISTANT_REFEREE_N2'))), primary key (id));
create table match_statistics (ball_possession integer, corner_kicks integer, fouls integer, goal_kicks integer, offsides integer, red_cards integer, saves integer, shots integer, shots_off_goal integer, shots_on_goal integer, throw_ins integer, total_bookings integer, yellow_cards integer, id bigint generated by default as identity, match_id bigint not null, team_id bigint not null, primary key (id));
create table matches (away_score integer, away_score_halftime integer, away_win_odds float(53), draw_odds float(53), home_score integer, home_score_halftime integer, home_win_odds float(53), injury_time integer, matchday integer not null, attendance bigint, away_team_id bigint not null, external_id bigint not null unique, home_team_id bigint not null, id bigint generated by default as identity, season_id bigint not null, utc_date timestamp(6) not null, stadium varchar(255), status varchar(255) not null check ((status in ('SCHEDULED','LIVE','IN_PLAY','PAUSED','FINISHED','POSTPONED','SUSPENDED','CANCELLED'))), winner varchar(255) check ((winner in ('HOME_TEAM','AWAY_TEAM','DRAW'))), primary key (id));
create table player_team_seasons (id bigint generated by default as identity, player_id bigint not null, season_id bigint not null, team_id bigint not null, primary key (id), constraint uk_player_team_season unique (player_id, team_id, season_id));
create table players (birth_date date, contract_start date, contract_until date, shirt_number integer, created_at timestamp(6) not null, current_team_id bigint, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), first_name varchar(255), last_name varchar(255), name varchar(255) not null, nationality varchar(255), primary key (id));
create table referees (external_id bigint not null unique, id bigint generated by default as identity, name varchar(255) not null, nationality varchar(255), primary key (id));
create table seasons (end_date date, is_current boolean, start_date date, external_id bigint, id bigint generated by default as identity, winner_team_id bigint, name varchar(255) not null unique, primary key (id));
create table standings (draw integer not null, games_played integer not null, goal_difference integer not null, goals_against integer not null, goals_for integer not null, lost integer not null, points integer not null, position integer not null, won integer not null, id bigint generated by default as identity, season_id bigint not null, team_id bigint not null, form varchar(20), primary key (id), constraint uk_team_season_standing unique (team_id, season_id));
create table substitutions (injury_time integer, minute integer, id bigint generated by default as identity, match_id bigint not null, player_in bigint not null, player_out bigint not null, team_id bigint not null, primary key (id));
create table team_coach_history (joined_at date not null, left_at date, coach_id bigint not null, id bigint generated by default as identity, team_id bigint not null, primary key (id));
create table teams (tla varchar(3) unique, year_founded integer, created_at timestamp(6) not null, current_coach_id bigint unique, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), name varchar(100) not null unique, club_colors varchar(255), crest_url varchar(255), short_name varchar(255), stadium varchar(255), primary key (id));
create table user_favorite_players (favorited_at timestamp(6) not null, id bigint generated by default as identity, player_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_player_favorite unique (user_id, player_id));
create table user_favorite_teams (favorited_at timestamp(6) not null, id bigint generated by default as identity, team_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_team_favorite unique (user_id, team_id));
create table users (created_at timestamp(6) not null, id bigint generated by default as identity, avatar_url varchar(255), email varchar(255) not null unique, first_name varchar(255), google_id varchar(255) unique, last_name varchar(255), primary key (id));
alter table if exists bookings add constraint FKqv1ebxjw8h1m4324kpip0j4gy foreign key (match_id) references matches;
alter table if exists bookings add constraint FK7q0g8hb02j183kbtxpk06g3vc foreign key (player_id) references players;
alter table if exists bookings add constraint FKnebs1eo3x1xm0g4riq99tb6vy foreign key (team_id) references teams;
alter table if exists goals add constraint FK87ccohm8tpga7ocit86xisk4g foreign key (assistant_id) references players;
alter table if exists goals add constraint FK8ccx0cu1ny1aj69vjn4cruo3l foreign key (match_id) references matches;
alter table if exists goals add constraint FKqu5hegukm0ee87uiuwpccqomh foreign key (scorer_id) references players;
alter table if exists goals add constraint FKf9r1d2qvljqd65eblm1tt66tx foreign key (team_id) references teams;
alter table if exists match_appearances add constraint FKrday7arsft5kcvxqdvv2a45a9 foreign key (match_id) references matches;
alter table if exists match_appearances add constraint FKc3wvj3rx5o9uunv6gy7u6lkeu foreign key (player_id) references players;
alter table if exists match_appearances add constraint FKapr6wf47qvioc32gt8f50w1ka foreign key (team_id) references teams;
alter table if exists match_referees add constraint FK6x1q62xk7uojb6gk6ful37urw foreign key (match_id) references matches;
alter table if exists match_referees add constraint FK3kg8fo3y1watqeu5mkcp3hhqi foreign key (referee_id) references referees;
alter table if exists match_statistics add constraint FKldtmogh5ymoeohy52kprf99xa foreign key (match_id) references matches;
alter table if exists match_statistics add constraint FKna2g1r8e7ig65ab6unagba96b foreign key (team_id) references teams;
alter table if exists matches add constraint FK2e8erbfecb0tjtq9iudg36bxu foreign key (away_team_id) references teams;
alter table if exists matches add constraint FK8k68nekawp47js52dq8720voe foreign key (home_team_id) references teams;
alter table if exists matches add constraint FK3ehtbdjnpjhowp2023c45kh8r foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FKbd7n5rdu55wh6tc7tmk6yh00h foreign key (player_id) references players;
alter table if exists player_team_seasons add constraint FKbe9n3t8wm3vcbm6mwdyixmapo foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FK4i6on0jjre9v6kf9fsjcs4nr2 foreign key (team_id) references teams;
alter table if exists players add constraint FKo4obt997nh7si97q796v2or8s foreign key (current_team_id) references teams;
alter table if exists seasons add constraint FKoldmjpq55s0mbwjun5bskgg41 foreign key (winner_team_id) references teams;
alter table if exists standings add constraint FKggre5nd5e903a9k29nicg19gp foreign key (season_id) references seasons;
alter table if exists standings add constraint FK6ak9f4ieqoq2bam5sjt9us7e foreign key (team_id) references teams;
alter table if exists substitutions add constraint FKpek5c5tmhwhfur6q3v6d46ndj foreign key (match_id) references matches;
alter table if exists substitutions add constraint FKdctqli9xu3cuty3qvb21u0vio foreign key (player_in) references players;
alter table if exists substitutions add constraint FKctegf86kfi9xbhex5gobd7y8l foreign key (player_out) references players;
alter table if exists substitutions add constraint FKprtr2aom8a4tjuec5qmr68ln4 foreign key (team_id) references teams;
alter table if exists team_coach_history add constraint FKt3333ox51j7m867hesfvioj7h foreign key (coach_id) references coaches;
alter table if exists team_coach_history add constraint FK94r2wkg6shihf99rlb6kivkyy foreign key (team_id) references teams;
alter table if exists teams add constraint FK8tcgsdju827qajnp5i13puqvt foreign key (current_coach_id) references coaches;
alter table if exists user_favorite_players add constraint FK4eic0cetl2jb72agrjn5nx1k4 foreign key (player_id) references players;
alter table if exists user_favorite_players add constraint FKlswq18ank0kea8u0ee7ibc5fr foreign key (user_id) references users;
alter table if exists user_favorite_teams add constraint FK6xm8srxaki475mkmc1xf5x0rs foreign key (team_id) references teams;
alter table if exists user_favorite_teams add constraint FKjoo8tyvsovr6ttg4ulr7gbx94 foreign key (user_id) references users;
create table bookings (minute integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, card_type varchar(20) not null check ((card_type in ('YELLOW','RED'))), primary key (id));
create table coaches (contract_start date, contract_until date, external_id bigint not null unique, id bigint generated by default as identity, name varchar(150) not null, nationality varchar(255), primary key (id));
create table goals (injury_time integer, minute integer, assistant_id bigint, id bigint generated by default as identity, match_id bigint not null, scorer_id bigint not null, team_id bigint not null, type varchar(20) not null check ((type in ('REGULAR','PENALTY','OWN_GOAL','FREE_KICK'))), primary key (id));
create table match_appearances (is_starting boolean not null, shirt_number integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, position varchar(255) not null, primary key (id));
create table match_referees (id bigint generated by default as identity, match_id bigint not null, referee_id bigint not null, role varchar(255) not null check ((role in ('REFEREE','ASSISTANT_REFEREE_N1','ASSISTANT_REFEREE_N2','FOURTH_OFFICIAL','VIDEO_ASSISTANT_REFEREE_N1','VIDEO_ASSISTANT_REFEREE_N2'))), primary key (id));
create table match_statistics (ball_possession integer, corner_kicks integer, fouls integer, goal_kicks integer, offsides integer, red_cards integer, saves integer, shots integer, shots_off_goal integer, shots_on_goal integer, throw_ins integer, total_bookings integer, yellow_cards integer, id bigint generated by default as identity, match_id bigint not null, team_id bigint not null, primary key (id));
create table matches (away_score integer, away_score_halftime integer, away_win_odds float(53), draw_odds float(53), home_score integer, home_score_halftime integer, home_win_odds float(53), injury_time integer, matchday integer not null, attendance bigint, away_team_id bigint not null, external_id bigint not null unique, home_team_id bigint not null, id bigint generated by default as identity, season_id bigint not null, utc_date timestamp(6) not null, stadium varchar(255), status varchar(255) not null check ((status in ('SCHEDULED','LIVE','IN_PLAY','PAUSED','FINISHED','POSTPONED','SUSPENDED','CANCELLED'))), winner varchar(255) check ((winner in ('HOME_TEAM','AWAY_TEAM','DRAW'))), primary key (id));
create table player_team_seasons (id bigint generated by default as identity, player_id bigint not null, season_id bigint not null, team_id bigint not null, primary key (id), constraint uk_player_team_season unique (player_id, team_id, season_id));
create table players (birth_date date, contract_start date, contract_until date, shirt_number integer, created_at timestamp(6) not null, current_team_id bigint, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), first_name varchar(255), last_name varchar(255), name varchar(255) not null, nationality varchar(255), primary key (id));
create table referees (external_id bigint not null unique, id bigint generated by default as identity, name varchar(255) not null, nationality varchar(255), primary key (id));
create table seasons (end_date date, is_current boolean, start_date date, external_id bigint, id bigint generated by default as identity, winner_team_id bigint, name varchar(255) not null unique, primary key (id));
create table standings (draw integer not null, games_played integer not null, goal_difference integer not null, goals_against integer not null, goals_for integer not null, lost integer not null, points integer not null, position integer not null, won integer not null, id bigint generated by default as identity, season_id bigint not null, team_id bigint not null, form varchar(20), primary key (id), constraint uk_team_season_standing unique (team_id, season_id));
create table substitutions (injury_time integer, minute integer, id bigint generated by default as identity, match_id bigint not null, player_in bigint not null, player_out bigint not null, team_id bigint not null, primary key (id));
create table team_coach_history (joined_at date not null, left_at date, coach_id bigint not null, id bigint generated by default as identity, team_id bigint not null, primary key (id));
create table teams (tla varchar(3) unique, year_founded integer, created_at timestamp(6) not null, current_coach_id bigint unique, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), name varchar(100) not null unique, club_colors varchar(255), crest_url varchar(255), short_name varchar(255), stadium varchar(255), primary key (id));
create table user_favorite_players (favorited_at timestamp(6) not null, id bigint generated by default as identity, player_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_player_favorite unique (user_id, player_id));
create table user_favorite_teams (favorited_at timestamp(6) not null, id bigint generated by default as identity, team_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_team_favorite unique (user_id, team_id));
create table users (created_at timestamp(6) not null, id bigint generated by default as identity, avatar_url varchar(255), email varchar(255) not null unique, first_name varchar(255), google_id varchar(255) unique, last_name varchar(255), primary key (id));
alter table if exists bookings add constraint FKqv1ebxjw8h1m4324kpip0j4gy foreign key (match_id) references matches;
alter table if exists bookings add constraint FK7q0g8hb02j183kbtxpk06g3vc foreign key (player_id) references players;
alter table if exists bookings add constraint FKnebs1eo3x1xm0g4riq99tb6vy foreign key (team_id) references teams;
alter table if exists goals add constraint FK87ccohm8tpga7ocit86xisk4g foreign key (assistant_id) references players;
alter table if exists goals add constraint FK8ccx0cu1ny1aj69vjn4cruo3l foreign key (match_id) references matches;
alter table if exists goals add constraint FKqu5hegukm0ee87uiuwpccqomh foreign key (scorer_id) references players;
alter table if exists goals add constraint FKf9r1d2qvljqd65eblm1tt66tx foreign key (team_id) references teams;
alter table if exists match_appearances add constraint FKrday7arsft5kcvxqdvv2a45a9 foreign key (match_id) references matches;
alter table if exists match_appearances add constraint FKc3wvj3rx5o9uunv6gy7u6lkeu foreign key (player_id) references players;
alter table if exists match_appearances add constraint FKapr6wf47qvioc32gt8f50w1ka foreign key (team_id) references teams;
alter table if exists match_referees add constraint FK6x1q62xk7uojb6gk6ful37urw foreign key (match_id) references matches;
alter table if exists match_referees add constraint FK3kg8fo3y1watqeu5mkcp3hhqi foreign key (referee_id) references referees;
alter table if exists match_statistics add constraint FKldtmogh5ymoeohy52kprf99xa foreign key (match_id) references matches;
alter table if exists match_statistics add constraint FKna2g1r8e7ig65ab6unagba96b foreign key (team_id) references teams;
alter table if exists matches add constraint FK2e8erbfecb0tjtq9iudg36bxu foreign key (away_team_id) references teams;
alter table if exists matches add constraint FK8k68nekawp47js52dq8720voe foreign key (home_team_id) references teams;
alter table if exists matches add constraint FK3ehtbdjnpjhowp2023c45kh8r foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FKbd7n5rdu55wh6tc7tmk6yh00h foreign key (player_id) references players;
alter table if exists player_team_seasons add constraint FKbe9n3t8wm3vcbm6mwdyixmapo foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FK4i6on0jjre9v6kf9fsjcs4nr2 foreign key (team_id) references teams;
alter table if exists players add constraint FKo4obt997nh7si97q796v2or8s foreign key (current_team_id) references teams;
alter table if exists seasons add constraint FKoldmjpq55s0mbwjun5bskgg41 foreign key (winner_team_id) references teams;
alter table if exists standings add constraint FKggre5nd5e903a9k29nicg19gp foreign key (season_id) references seasons;
alter table if exists standings add constraint FK6ak9f4ieqoq2bam5sjt9us7e foreign key (team_id) references teams;
alter table if exists substitutions add constraint FKpek5c5tmhwhfur6q3v6d46ndj foreign key (match_id) references matches;
alter table if exists substitutions add constraint FKdctqli9xu3cuty3qvb21u0vio foreign key (player_in) references players;
alter table if exists substitutions add constraint FKctegf86kfi9xbhex5gobd7y8l foreign key (player_out) references players;
alter table if exists substitutions add constraint FKprtr2aom8a4tjuec5qmr68ln4 foreign key (team_id) references teams;
alter table if exists team_coach_history add constraint FKt3333ox51j7m867hesfvioj7h foreign key (coach_id) references coaches;
alter table if exists team_coach_history add constraint FK94r2wkg6shihf99rlb6kivkyy foreign key (team_id) references teams;
alter table if exists teams add constraint FK8tcgsdju827qajnp5i13puqvt foreign key (current_coach_id) references coaches;
alter table if exists user_favorite_players add constraint FK4eic0cetl2jb72agrjn5nx1k4 foreign key (player_id) references players;
alter table if exists user_favorite_players add constraint FKlswq18ank0kea8u0ee7ibc5fr foreign key (user_id) references users;
alter table if exists user_favorite_teams add constraint FK6xm8srxaki475mkmc1xf5x0rs foreign key (team_id) references teams;
alter table if exists user_favorite_teams add constraint FKjoo8tyvsovr6ttg4ulr7gbx94 foreign key (user_id) references users;
create table bookings (minute integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, card_type varchar(20) not null check ((card_type in ('YELLOW','RED'))), primary key (id));
create table coaches (contract_start date, contract_until date, external_id bigint not null unique, id bigint generated by default as identity, name varchar(150) not null, nationality varchar(255), primary key (id));
create table goals (injury_time integer, minute integer, assistant_id bigint, id bigint generated by default as identity, match_id bigint not null, scorer_id bigint not null, team_id bigint not null, type varchar(20) not null check ((type in ('REGULAR','PENALTY','OWN_GOAL','FREE_KICK'))), primary key (id));
create table match_appearances (is_starting boolean not null, shirt_number integer not null, id bigint generated by default as identity, match_id bigint not null, player_id bigint not null, team_id bigint not null, position varchar(255) not null, primary key (id));
create table match_referees (id bigint generated by default as identity, match_id bigint not null, referee_id bigint not null, role varchar(255) not null check ((role in ('REFEREE','ASSISTANT_REFEREE_N1','ASSISTANT_REFEREE_N2','FOURTH_OFFICIAL','VIDEO_ASSISTANT_REFEREE_N1','VIDEO_ASSISTANT_REFEREE_N2'))), primary key (id));
create table match_statistics (ball_possession integer, corner_kicks integer, fouls integer, goal_kicks integer, offsides integer, red_cards integer, saves integer, shots integer, shots_off_goal integer, shots_on_goal integer, throw_ins integer, total_bookings integer, yellow_cards integer, id bigint generated by default as identity, match_id bigint not null, team_id bigint not null, primary key (id));
create table matches (away_score integer, away_score_halftime integer, away_win_odds float(53), draw_odds float(53), home_score integer, home_score_halftime integer, home_win_odds float(53), injury_time integer, matchday integer not null, attendance bigint, away_team_id bigint not null, external_id bigint not null unique, home_team_id bigint not null, id bigint generated by default as identity, season_id bigint not null, utc_date timestamp(6) not null, stadium varchar(255), status varchar(255) not null check ((status in ('SCHEDULED','LIVE','IN_PLAY','PAUSED','FINISHED','POSTPONED','SUSPENDED','CANCELLED'))), winner varchar(255) check ((winner in ('HOME_TEAM','AWAY_TEAM','DRAW'))), primary key (id));
create table player_team_seasons (id bigint generated by default as identity, player_id bigint not null, season_id bigint not null, team_id bigint not null, primary key (id), constraint uk_player_team_season unique (player_id, team_id, season_id));
create table players (birth_date date, contract_start date, contract_until date, shirt_number integer, created_at timestamp(6) not null, current_team_id bigint, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), first_name varchar(255), last_name varchar(255), name varchar(255) not null, nationality varchar(255), primary key (id));
create table referees (external_id bigint not null unique, id bigint generated by default as identity, name varchar(255) not null, nationality varchar(255), primary key (id));
create table seasons (end_date date, is_current boolean, start_date date, external_id bigint, id bigint generated by default as identity, winner_team_id bigint, name varchar(255) not null unique, primary key (id));
create table standings (draw integer not null, games_played integer not null, goal_difference integer not null, goals_against integer not null, goals_for integer not null, lost integer not null, points integer not null, position integer not null, won integer not null, id bigint generated by default as identity, season_id bigint not null, team_id bigint not null, form varchar(20), primary key (id), constraint uk_team_season_standing unique (team_id, season_id));
create table substitutions (injury_time integer, minute integer, id bigint generated by default as identity, match_id bigint not null, player_in bigint not null, player_out bigint not null, team_id bigint not null, primary key (id));
create table team_coach_history (joined_at date not null, left_at date, coach_id bigint not null, id bigint generated by default as identity, team_id bigint not null, primary key (id));
create table teams (tla varchar(3) unique, year_founded integer, created_at timestamp(6) not null, current_coach_id bigint unique, external_id bigint not null unique, id bigint generated by default as identity, updated_at timestamp(6), name varchar(100) not null unique, club_colors varchar(255), crest_url varchar(255), short_name varchar(255), stadium varchar(255), primary key (id));
create table user_favorite_players (favorited_at timestamp(6) not null, id bigint generated by default as identity, player_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_player_favorite unique (user_id, player_id));
create table user_favorite_teams (favorited_at timestamp(6) not null, id bigint generated by default as identity, team_id bigint not null, user_id bigint not null, primary key (id), constraint uk_user_team_favorite unique (user_id, team_id));
create table users (created_at timestamp(6) not null, id bigint generated by default as identity, avatar_url varchar(255), email varchar(255) not null unique, first_name varchar(255), google_id varchar(255) unique, last_name varchar(255), primary key (id));
alter table if exists bookings add constraint FKqv1ebxjw8h1m4324kpip0j4gy foreign key (match_id) references matches;
alter table if exists bookings add constraint FK7q0g8hb02j183kbtxpk06g3vc foreign key (player_id) references players;
alter table if exists bookings add constraint FKnebs1eo3x1xm0g4riq99tb6vy foreign key (team_id) references teams;
alter table if exists goals add constraint FK87ccohm8tpga7ocit86xisk4g foreign key (assistant_id) references players;
alter table if exists goals add constraint FK8ccx0cu1ny1aj69vjn4cruo3l foreign key (match_id) references matches;
alter table if exists goals add constraint FKqu5hegukm0ee87uiuwpccqomh foreign key (scorer_id) references players;
alter table if exists goals add constraint FKf9r1d2qvljqd65eblm1tt66tx foreign key (team_id) references teams;
alter table if exists match_appearances add constraint FKrday7arsft5kcvxqdvv2a45a9 foreign key (match_id) references matches;
alter table if exists match_appearances add constraint FKc3wvj3rx5o9uunv6gy7u6lkeu foreign key (player_id) references players;
alter table if exists match_appearances add constraint FKapr6wf47qvioc32gt8f50w1ka foreign key (team_id) references teams;
alter table if exists match_referees add constraint FK6x1q62xk7uojb6gk6ful37urw foreign key (match_id) references matches;
alter table if exists match_referees add constraint FK3kg8fo3y1watqeu5mkcp3hhqi foreign key (referee_id) references referees;
alter table if exists match_statistics add constraint FKldtmogh5ymoeohy52kprf99xa foreign key (match_id) references matches;
alter table if exists match_statistics add constraint FKna2g1r8e7ig65ab6unagba96b foreign key (team_id) references teams;
alter table if exists matches add constraint FK2e8erbfecb0tjtq9iudg36bxu foreign key (away_team_id) references teams;
alter table if exists matches add constraint FK8k68nekawp47js52dq8720voe foreign key (home_team_id) references teams;
alter table if exists matches add constraint FK3ehtbdjnpjhowp2023c45kh8r foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FKbd7n5rdu55wh6tc7tmk6yh00h foreign key (player_id) references players;
alter table if exists player_team_seasons add constraint FKbe9n3t8wm3vcbm6mwdyixmapo foreign key (season_id) references seasons;
alter table if exists player_team_seasons add constraint FK4i6on0jjre9v6kf9fsjcs4nr2 foreign key (team_id) references teams;
alter table if exists players add constraint FKo4obt997nh7si97q796v2or8s foreign key (current_team_id) references teams;
alter table if exists seasons add constraint FKoldmjpq55s0mbwjun5bskgg41 foreign key (winner_team_id) references teams;
alter table if exists standings add constraint FKggre5nd5e903a9k29nicg19gp foreign key (season_id) references seasons;
alter table if exists standings add constraint FK6ak9f4ieqoq2bam5sjt9us7e foreign key (team_id) references teams;
alter table if exists substitutions add constraint FKpek5c5tmhwhfur6q3v6d46ndj foreign key (match_id) references matches;
alter table if exists substitutions add constraint FKdctqli9xu3cuty3qvb21u0vio foreign key (player_in) references players;
alter table if exists substitutions add constraint FKctegf86kfi9xbhex5gobd7y8l foreign key (player_out) references players;
alter table if exists substitutions add constraint FKprtr2aom8a4tjuec5qmr68ln4 foreign key (team_id) references teams;
alter table if exists team_coach_history add constraint FKt3333ox51j7m867hesfvioj7h foreign key (coach_id) references coaches;
alter table if exists team_coach_history add constraint FK94r2wkg6shihf99rlb6kivkyy foreign key (team_id) references teams;
alter table if exists teams add constraint FK8tcgsdju827qajnp5i13puqvt foreign key (current_coach_id) references coaches;
alter table if exists user_favorite_players add constraint FK4eic0cetl2jb72agrjn5nx1k4 foreign key (player_id) references players;
alter table if exists user_favorite_players add constraint FKlswq18ank0kea8u0ee7ibc5fr foreign key (user_id) references users;
alter table if exists user_favorite_teams add constraint FK6xm8srxaki475mkmc1xf5x0rs foreign key (team_id) references teams;
alter table if exists user_favorite_teams add constraint FKjoo8tyvsovr6ttg4ulr7gbx94 foreign key (user_id) references users;
